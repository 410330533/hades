以前很多人用虚拟主机部署网站，现在应该很少有人用了。现在随着云的兴起，vps越来越便宜了。于是很多做技术的，会部署一些小站点。

我这边，也有和别人合用一个vps，是最低配的vps，内存512MB。该vps上已经部署了一些东西，比如nginx，mysql，uwsgi，php-fpm等。

于是，有一天，我想安装一个gem mongoid，我在terminal键入gem install mongoid，然后过了一会，命令执行完了，没有任何输出。gem list也没有显示安装成功。一开始以为是源的问题，于是换源 gem source, 想换成官方源试试(之前已经换成淘宝源)。但是删除可以，添加一直添加补上。越弄越坏了？无解，各种郁闷。

过了几天，发现实在无解，于是想用最笨的办法，重装ruby，rubygem试试。于是用rvm 安装ruby，然后编译的时候居然报错，ruby也安装不上了。各种google报错信息，无解。就在快要放弃的时候，无意中发现有一篇文章讲到内存太小，导致编译报错。于是联想到我这边ruby编译报错也是因为内存太小。然后再次编译，查看内存变化，果然是内存不够。于是kill掉几个进程，再次安装ruby，顺利成功。安装gem，毫无任何问题。

至此，问题顺利解决。该问题拖延那么久我觉得主要是因为gem install出问题时，没有给任何信息。下次再使用这种小内存服务器时，需要谨慎关注内存方面的信息。
